requirejs(["ui","login","commonHoverEven","bindCard","bankActivity"],function(e,t,n,r,i){function u(){var e=function(e){e?s("#J_page_msg").empty().html('<div class="center-wrap error-wrap"><span class="warning-msg">'+e+"</span></div>"):s("#J_page_msg").empty().html('<div class="center-wrap error-wrap"><span class="warning-msg">操作异常,刷新页面重试!</span></div>')},t={tradeId:tradeId},n="",r=1e3;clearInterval(o),o=setInterval(function(){n&&n.abort(),r--,n=s.ajax({type:"GET",url:mipayData.baseUrl+"result/"+tradeId+"?userId="+mipayData.userId,dataType:"JSON",data:{},success:function(t){if(t.status=="SUCCESS")clearInterval(o),location.href=mipayData.baseUrl+"success/"+tradeId+"?userId="+mipayData.userId;else if(t.status=="AWAITING")r<=0&&(clearInterval(o),e("订单超时刷新页面重试"));else if(t.status=="FAILED"||t.status=="CLOSED")clearInterval(o),location.href=mipayData.baseUrl+"failed/"+tradeId+"?userId="+mipayData.userId},error:function(){}})},3e3)}function a(){s("#J_code").css({width:85,height:85,right:99,top:71}),s(".code-content .code-text").hide(),document.createElement("canvas").getContext?s("#J_code").qrcode({width:85,height:85,text:qrPayUrl}):s("#J_code").qrcode({render:"table",width:85,height:85,text:qrPayUrl}),u()}var s=requirejs("jquery"),o="";a(),n.orderDetailHover(),r.init({source:"bindpay"}),t.checkLogin(),n.topUserNameHover(),i.init("bindpay")}),define("bindcardpay",function(){});